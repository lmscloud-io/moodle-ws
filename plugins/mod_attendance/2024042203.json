{"functions":[{"name":"mod_attendance_add_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"courseid":{"class":"external_value","type":"int","desc":"course id","required":1,"default":null,"allownull":true},"name":{"class":"external_value","type":"text","desc":"attendance name","required":1,"default":null,"allownull":true},"intro":{"class":"external_value","type":"raw","desc":"attendance description","required":0,"default":"","allownull":true},"groupmode":{"class":"external_value","type":"int","desc":"group mode (0 - no groups, 1 - separate groups, 2 - visible groups)","required":0,"default":0,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","desc":"instance id of the created attendance","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"description":"Add attendance instance to course.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_add_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","desc":"attendance instance id","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"description","required":0,"default":"","allownull":true},"sessiontime":{"class":"external_value","type":"int","desc":"session start timestamp","required":1,"default":null,"allownull":true},"duration":{"class":"external_value","type":"int","desc":"session duration (seconds)","required":0,"default":0,"allownull":true},"groupid":{"class":"external_value","type":"int","desc":"group id","required":0,"default":0,"allownull":true},"addcalendarevent":{"class":"external_value","type":"bool","desc":"add calendar event","required":0,"default":true,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","desc":"id of the created session","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"description":"Add a new session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_courses_with_today_sessions","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"userid":{"class":"external_value","type":"int","desc":"User id.","required":0,"default":0,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"shortname":{"class":"external_value","type":"text","desc":"short name of a moodle course.","required":1,"default":null,"allownull":true},"fullname":{"class":"external_value","type":"text","desc":"full name of a moodle course.","required":1,"default":null,"allownull":true},"attendance_instances":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"text","desc":"Attendance name.","required":1,"default":null,"allownull":true},"today_sessions":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"Session id.","required":1,"default":null,"allownull":true},"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true},"groupid":{"class":"external_value","type":"int","desc":"Group id.","required":1,"default":null,"allownull":true},"sessdate":{"class":"external_value","type":"int","desc":"Session date.","required":1,"default":null,"allownull":true},"duration":{"class":"external_value","type":"int","desc":"Session duration.","required":1,"default":null,"allownull":true},"lasttaken":{"class":"external_value","type":"int","desc":"Session last taken time.","required":1,"default":null,"allownull":true},"lasttakenby":{"class":"external_value","type":"int","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true},"timemodified":{"class":"external_value","type":"int","desc":"Time modified.","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"Session description.","required":1,"default":null,"allownull":true},"descriptionformat":{"class":"external_value","type":"int","desc":"Session description format.","required":1,"default":null,"allownull":true},"studentscanmark":{"class":"external_value","type":"int","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true},"absenteereport":{"class":"external_value","type":"int","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true},"autoassignstatus":{"class":"external_value","type":"int","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true},"preventsharedip":{"class":"external_value","type":"int","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true},"preventsharediptime":{"class":"external_value","type":"int","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true},"statusset":{"class":"external_value","type":"int","desc":"Session statusset.","required":1,"default":null,"allownull":true},"includeqrcode":{"class":"external_value","type":"int","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true},"studentsearlyopentime":{"class":"external_value","type":"int","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"description":"Method that retrieves courses with today sessions of a teacher.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","desc":"session id","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"Session id.","required":1,"default":null,"allownull":true},"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true},"groupid":{"class":"external_value","type":"int","desc":"Group id.","required":1,"default":null,"allownull":true},"sessdate":{"class":"external_value","type":"int","desc":"Session date.","required":1,"default":null,"allownull":true},"duration":{"class":"external_value","type":"int","desc":"Session duration.","required":1,"default":null,"allownull":true},"lasttaken":{"class":"external_value","type":"int","desc":"Session last taken time.","required":1,"default":null,"allownull":true},"lasttakenby":{"class":"external_value","type":"int","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true},"timemodified":{"class":"external_value","type":"int","desc":"Time modified.","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"Session description.","required":1,"default":null,"allownull":true},"descriptionformat":{"class":"external_value","type":"int","desc":"Session description format.","required":1,"default":null,"allownull":true},"studentscanmark":{"class":"external_value","type":"int","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true},"absenteereport":{"class":"external_value","type":"int","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true},"autoassignstatus":{"class":"external_value","type":"int","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true},"preventsharedip":{"class":"external_value","type":"int","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true},"preventsharediptime":{"class":"external_value","type":"int","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true},"statusset":{"class":"external_value","type":"int","desc":"Session statusset.","required":1,"default":null,"allownull":true},"includeqrcode":{"class":"external_value","type":"int","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true},"studentsearlyopentime":{"class":"external_value","type":"int","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true},"courseid":{"class":"external_value","type":"int","desc":"Course moodle id.","required":1,"default":null,"allownull":true},"statuses":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"Status id.","required":1,"default":null,"allownull":true},"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true},"acronym":{"class":"external_value","type":"text","desc":"Status acronym.","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"Status description.","required":1,"default":null,"allownull":true},"grade":{"class":"external_value","type":"float","desc":"Status grade.","required":1,"default":null,"allownull":true},"visible":{"class":"external_value","type":"int","desc":"Status visibility.","required":1,"default":null,"allownull":true},"deleted":{"class":"external_value","type":"int","desc":"informs if this session was deleted.","required":1,"default":null,"allownull":true},"setnumber":{"class":"external_value","type":"int","desc":"Set number.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"attendance_log":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"studentid":{"class":"external_value","type":"int","desc":"Student id.","required":1,"default":null,"allownull":true},"statusid":{"class":"external_value","type":"text","desc":"Status id (last time).","required":1,"default":null,"allownull":true},"remarks":{"class":"external_value","type":"text","desc":"Last remark.","required":1,"default":null,"allownull":true},"id":{"class":"external_value","type":"text","desc":"log id.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"users":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"User id.","required":1,"default":null,"allownull":true},"firstname":{"class":"external_value","type":"text","desc":"User first name.","required":1,"default":null,"allownull":true},"lastname":{"class":"external_value","type":"text","desc":"User last name.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false}},"desc":"","required":1,"default":null,"allownull":false},"description":"Method that retrieves the session data","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_sessions","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"Session id.","required":1,"default":null,"allownull":true},"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true},"groupid":{"class":"external_value","type":"int","desc":"Group id.","required":1,"default":null,"allownull":true},"sessdate":{"class":"external_value","type":"int","desc":"Session date.","required":1,"default":null,"allownull":true},"duration":{"class":"external_value","type":"int","desc":"Session duration.","required":1,"default":null,"allownull":true},"lasttaken":{"class":"external_value","type":"int","desc":"Session last taken time.","required":1,"default":null,"allownull":true},"lasttakenby":{"class":"external_value","type":"int","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true},"timemodified":{"class":"external_value","type":"int","desc":"Time modified.","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"Session description.","required":1,"default":null,"allownull":true},"descriptionformat":{"class":"external_value","type":"int","desc":"Session description format.","required":1,"default":null,"allownull":true},"studentscanmark":{"class":"external_value","type":"int","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true},"absenteereport":{"class":"external_value","type":"int","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true},"autoassignstatus":{"class":"external_value","type":"int","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true},"preventsharedip":{"class":"external_value","type":"int","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true},"preventsharediptime":{"class":"external_value","type":"int","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true},"statusset":{"class":"external_value","type":"int","desc":"Session statusset.","required":1,"default":null,"allownull":true},"includeqrcode":{"class":"external_value","type":"int","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true},"studentsearlyopentime":{"class":"external_value","type":"int","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true},"courseid":{"class":"external_value","type":"int","desc":"Course moodle id.","required":1,"default":null,"allownull":true},"statuses":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"Status id.","required":1,"default":null,"allownull":true},"attendanceid":{"class":"external_value","type":"int","desc":"Attendance id.","required":1,"default":null,"allownull":true},"acronym":{"class":"external_value","type":"text","desc":"Status acronym.","required":1,"default":null,"allownull":true},"description":{"class":"external_value","type":"raw","desc":"Status description.","required":1,"default":null,"allownull":true},"grade":{"class":"external_value","type":"float","desc":"Status grade.","required":1,"default":null,"allownull":true},"visible":{"class":"external_value","type":"int","desc":"Status visibility.","required":1,"default":null,"allownull":true},"deleted":{"class":"external_value","type":"int","desc":"informs if this session was deleted.","required":1,"default":null,"allownull":true},"setnumber":{"class":"external_value","type":"int","desc":"Set number.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"attendance_log":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"studentid":{"class":"external_value","type":"int","desc":"Student id.","required":1,"default":null,"allownull":true},"statusid":{"class":"external_value","type":"text","desc":"Status id (last time).","required":1,"default":null,"allownull":true},"remarks":{"class":"external_value","type":"text","desc":"Last remark.","required":1,"default":null,"allownull":true},"id":{"class":"external_value","type":"text","desc":"log id.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"users":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","desc":"User id.","required":1,"default":null,"allownull":true},"firstname":{"class":"external_value","type":"text","desc":"User first name.","required":1,"default":null,"allownull":true},"lastname":{"class":"external_value","type":"text","desc":"User last name.","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false}},"desc":"","required":1,"default":null,"allownull":false},"desc":"","required":1,"default":null,"allownull":false},"description":"Method that retrieves the sessions in an attendance instance.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","desc":"attendance instance id","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_value","type":"bool","desc":"attendance deletion result","required":1,"default":null,"allownull":true},"description":"Delete attendance instance.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","desc":"session id","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_value","type":"bool","desc":"attendance session deletion result","required":1,"default":null,"allownull":true},"description":"Delete a session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_update_user_status","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","desc":"Session id","required":1,"default":null,"allownull":true},"studentid":{"class":"external_value","type":"int","desc":"Student id","required":1,"default":null,"allownull":true},"takenbyid":{"class":"external_value","type":"int","desc":"Id of the user who took this session","required":1,"default":null,"allownull":true},"statusid":{"class":"external_value","type":"int","desc":"Status id","required":1,"default":null,"allownull":true},"statusset":{"class":"external_value","type":"text","desc":"Status set of session","required":1,"default":null,"allownull":true}},"desc":"","required":1,"default":null,"allownull":false},"returns_desc":{"class":"external_value","type":"text","desc":"Http code","required":1,"default":null,"allownull":true},"description":"Method that updates the user status in a session.","type":"write","loginrequired":true,"readonlysession":false}]}